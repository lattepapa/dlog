{"componentChunkName":"component---src-templates-post-template-tsx","path":"/HTTP","result":{"pageContext":{"html":"<blockquote>\n<p><em>'an application-layer protocol for transmitting hypermedia documents, such as HTML. It was designed for communication between web browsers and web servers'</em> - <strong>MDN</strong></p>\n</blockquote>\n<p><strong>μ›Ή μ„λ²„</strong>λ΅λ¶€ν„° <strong>HTML λ¬Έμ„</strong>λ¥Ό κ±°λ‘¬λ“¤μ—¬μ„(<strong>fetch</strong>), <strong>μ›Ή λΈλΌμ°μ €</strong>λ΅ <strong>HTML λ¬Έμ„</strong>λ¥Ό μ „λ‹¬ν•΄μ£ΌκΈ° μ„ν•(<strong>transmit</strong>), <strong>μ–΄ν”λ¦¬μΌ€μ΄μ… κ³„μΈµ</strong>μ ν†µμ‹ κ·μ•½μ„ μλ―Έν•λ‹¤.</p>\n<h4>HTTPμ 2κ°€μ§€ νΉμ§•</h4>\n<p>1) <strong>Stateless</strong> : ν΄λΌμ΄μ–ΈνΈ(browser)μ μ”μ²­μ— λ€ν•΄ μ„λ²„κ°€ μ‘λ‹µν•λ©΄ μ—°κ²°(=λ§¥λ½)μ΄ μΆ…λ£λλ‹¤. μ¦‰, μ•μ„  ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κ°„ κµμ‹ μ΄ GETμ΄μ—λ”μ§€ POSTμ€λ”μ§€, μ–΄λ–¤ λ©”μ†λ“μ κµμ‹ μ΄μ—λ”μ§€λ” ν„μ¬ κµμ‹ μ—μ„λ” μ „ν€ μ• μ μ—†λ‹¤. λ‹¨, λ§μ•½ μΏ ν‚¤κ°€ μλ‹¤λ©΄, κµμ‹ λ“¤ κ°„ λ§¥λ½ νμ•…μ΄ κ°€λ¥ν•΄μ§„λ‹¤.<br>\n2) <strong>Connectionless</strong> : μ„λ²„λ” ν•λ²μ μ”μ²­μ— λ€ν•΄ ν•λ²μ μ‘λ‹µλ§ ν•λ‹¤. λ‹¤μ‹λ§ν•΄ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— λ€ν• μ„λ²„μ μ‘λ‹µμ΄ μ΄λ¤„μ§€λ©΄ ν•΄λ‹Ή κµμ‹ μ€ λ°”λ΅ μΆ…λ£λλ‹¤. ν•λ²μ κµμ‹ μ— λ‹¤μμ μ”μ²­κ³Ό μ‘λ‹µμ΄ μ΄λ¤„μ§ μλ” μ—†λ‹¤.</p>\n<h4>TLS(encrypted TCP)</h4>\n<p>HTTP ν†µμ‹  μƒμ—μ„ λ‹¨μν ν…μ¤νΈ μ •λ³΄λ§ λ‹¤λ£¨λ” κ²ƒμ—μ„ λ‚μ•„κ°€, μ΄λ―Έμ§€, μμƒ λ“±μ μ „μ†΅μ„ κ°€λ¥ν•κ² ν• ν†µμ‹ κ·μ•½</p>\n<h4>λΈλΌμ°μ €(Browser)</h4>\n<p>λΈλΌμ°μ €λ” HTTP ν™κ²½μ—μ„ λ¨λ“  ν΄λΌμ΄μ–ΈνΈ <strong>μ”μ²­(Request)μ μ‹μ‘μ </strong>μ΄λ‹¤.</p>\n<h4>RPC(Remote Procedure Call)</h4>\n<p>ν΄λΌμ΄μ–ΈνΈ(browser)κ°€ μ„λ²„(μ›κ²©μ§€)μ— μ”μ²­ν•λ” κ·Έ μμ²΄λ¥Ό μλ―Έ</p>\n<h4>μ„λ²„(Server)</h4>\n<p>μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈ(browser)μ μ”μ²­μ— λ”°λΌ λ‹¤μ‹ ν΄λΌμ΄μ–ΈνΈμ— HTTP μ„λΉ„μ¤λ¥Ό <strong>μ κ³µ(Response)</strong>ν•λ‹¤.</p>\n<h4>ν”„λ΅μ‹(Proxy)</h4>\n<p>ν΄λΌμ΄μ–ΈνΈ μ•λ‹¨μ—μ„ Caching, Filtering, LB, Authentication, Loggingμ κΈ°λ¥μ„ μν–‰</p>\n<h4>URL(Uniform Resource Locator)</h4>\n<p>μ‰½κ² λ§ν•΄ μ›Ή μ£Όμ†λ¥Ό μλ―Έν•λ‹¤.</p>\n<h4>URLμ κµ¬μ΅°</h4>\n<p>μλ¥Ό λ“¤μ–΄ <a href=\"https://www.google.com/search?q=cats#p2\">https://www.google.com/search?q=cats#p2</a> λΌλ” URLμ΄ μλ‹¤λ©΄<br>\n1) <strong>scheme</strong> : 'http', 'https', 'ssh', 'git' λ“±<br>\n2) <strong>host</strong> : 'google.com', 'localhost', '192.168.35.82' λ“±<br>\n3) <strong>sub domain</strong> : 'www', 'mail', 'blog' λ“±<br>\n4) <strong>path</strong> : 'search', 'about.html', 'blog/entries/2/big-day' λ“±<br>\n5) <strong>query string</strong> : 'q=cats&#x26;ref=mobile&#x26;page=4' λ“±<br>\n6) <strong>hash fragment</strong> : 'p2', 'FAQ', '/profile/edit' λ“±\n<br>\n<br>\n<br></p>\n<h3>HTTP νλ¦„</h3>\n<h4>1. TCP μ—°κ²° ν™μ„±ν™”</h4>\n<p>ν΄λΌμ΄μ–ΈνΈ(browser)κ°€ μ„λ²„λ΅ HTTP μ„λΉ„μ¤λ¥Ό μ”μ²­ν•¨μΌλ΅μ¨ TCP μ—°κ²°μ΄ ν™μ„±ν™” λλ‹¤.</p>\n<h4>2. HTTP λ©”μ‹μ§€ μ „μ†΅</h4>\n<p>λ‹¤μκ³Ό κ°™μ€ ν—¤λ”(header)λ¥Ό ν•„λ‘λ΅ ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ(browser)κ°€ μ„λ²„λ΅ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">GET / HTTP/1.1 Host: developer.mozilla.org Accept-Language: fr</code></pre></div>\n<h4>3. μ„λ²„λ΅λ¶€ν„° νμ‹  λ°›μ€ λ‚΄μ© μ½κΈ°</h4>\n<p>λ‹¤μκ³Ό κ°™μ€ HTML λ¬Έμ„λ΅μ¨ μ„λ²„κ°€ λ©”μ‹μ§€λ¥Ό μ‘λ‹µν•λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\">HTTP/1.1 200 OK\nDate: Sat, 09 Oct 2010 14:28:02 GMT\nServer: Apache\nLast-Modified: Tue, 01 Dec 2009 20:18:22 GMT\nETag: \"51142bc1-7449-479b075b2891b\"\nAccept-Ranges: bytes\nContent-Length: 29769\nContent-Type: text/html\n\n&lt;!DOCTYPE html... (here comes the 29769 bytes of the requested web page)</code></pre></div>\n<h4>4. μ»¤λ®¤λ‹μΌ€μ΄μ… μΆ…λ£</h4>\n<br>\n<br>\n<br>\n<h3>AJAX(Asynchronous Javascript and XML)</h3>\n<h4>API(Application Programming Interface)</h4>\n<p>ν΄λΌμ΄μ–ΈνΈ(browser)κ°€ μ„λ²„μ μμ›μ„ μ΄μ©ν•  μ μλ„λ΅ λ§λ ¨λ μΈν„°νμ΄μ¤, μ¦‰, <strong>λ©”μ†λ“</strong>λ¥Ό μλ―Έν•λ‹¤.</p>\n<h4>XHR(XMLHttpRequest)</h4>\n<p>ν΄λΌμ΄μ–ΈνΈ(browser)κ°€ μ„λ²„μ™€ μƒνΈ μ‘μ©ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” <strong>κ°μ²΄</strong>λ¥Ό μλ―Έν•λ‹¤. XHRμ€ μ›Ήνμ΄μ§€μ λ¨λ“  μ”μ†λ¥Ό ν•λ²μ— λ¶λ¬μ¤λ” κ²ƒμ΄ μ•„λ‹λΌ λΉ„λ™κΈ°μ μΌλ΅ λ¶λ¬μ¤λ” κ²ƒμ— ν™μ©λλ‹¤. μ΄ λ•λ¶„μ— μ „μ²΄ νμ΄μ§€ μ •λ³΄λ¥Ό λ§¤λ² ν•κΊΌλ²μ— λ λ”λ§ν•  ν•„μ”κ°€ μ—†μ–΄μ§€κ² λμ—λ‹¤.</p>\n<h4>μ£Όμ” λ©”μ†λ“(RESTful APIs)</h4>\n<p>1) <strong>GET</strong> /? : μ„λ²„μ— λ©”μ‹μ§€(μμ›)μ„ <strong>μ”μ²­</strong>ν•λ” λ©”μ†λ“ β†’ <em>domain.com/api/users</em><br>\n2) <strong>POST</strong> /? : μ„λ²„μ— λ©”μ‹μ§€(μμ›)μ„ <strong>μƒμ„±</strong>ν•λ” λ©”μ†λ“ β†’ <em>domain.com/api/users</em><br>\n3) <strong>PUT</strong> /? : μ„λ²„μ λ©”μ‹μ§€(μμ›)μ μ†μ„±μ„ <strong>λ€μ²΄μμ •</strong>ν•λ” λ©”μ†λ“ β†’ <em>domain.com/api/users/{username}</em><br>\n4) <strong>PATCH</strong> /? : μ„λ²„μ λ©”μ‹μ§€(μμ›)μ μ†μ„±μ„ <strong>μΌλ¶€μμ •</strong>ν•λ” λ©”μ†λ“ β†’ <em>domain.com/api/users/{username}</em><br>\n5) <strong>DELETE</strong> /? : μ„λ²„μ λ©”μ‹μ§€(μμ›)μ μ†μ„±μ„ <strong>μ‚­μ </strong>ν•λ” λ©”μ†λ“ β†’ <em>domain.com/api/users/{username}</em></p>\n<h4>λ©”μ†λ“λ³„ HTTP μ‘λ‹µμ½”λ“</h4>\n<p>1) <strong>1xx</strong> : \"Hold on..\"<br>\n2) <strong>2xx</strong> : \"Here you go π™‚\"<br>\n3) <strong>3xx</strong> : \"Your request will be redirected to target page!\"</p>\n<ul>\n<li>304 : \"μ”μ²­μ— λ€ν• μ‘λ‹µμ΄ μ•„μ§ μμ •λμ§€ μ•μ•κ³  cachingλ λ‚΄μ©λ§ μμ\"</li>\n</ul>\n<p>4) <strong>4xx</strong> : \"YOU screwed up! βΉοΈ\"</p>\n<ul>\n<li>403 : \"μ»¨ν…μΈ μ— μ ‘κ·Όν•  κ¶ν•μ΄ μ—†μ\"</li>\n<li>404 : \"μ”μ²­λ°›μ€ λ¦¬μ†μ¤λ¥Ό μ‚¬μ©ν•  μ μ—†μ\"</li>\n</ul>\n<p>5) <strong>5xx</strong> : \"I screwed up, sorry....\"</p>\n<ul>\n<li>500 : \"μ„λ²„κ°€ μ²λ¦¬ν•  μ μ—†λ” μ”μ²­μ„\"</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber 0\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token comment\">// XHR APIλ¥Ό ν™μ©ν• μ„λ²„μ™€μ ν†µμ‹ </span>\n<span class=\"token keyword\">var</span> xhr <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">XMLHttpRequest</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nxhr<span class=\"token punctuation\">.</span><span class=\"token function\">open</span><span class=\"token punctuation\">(</span><span class=\"token string\">'get'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'http://52.78.213.9:3000/messages'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nxhr<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onreadystatechange</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>readyState <span class=\"token operator\">!==</span> <span class=\"token number\">4</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// readyState 4: μ™„λ£</span>\n\t<span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token number\">200</span><span class=\"token punctuation\">)</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>xhr<span class=\"token punctuation\">.</span>resonseText<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token keyword\">else</span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'μ—λ¬: '</span> <span class=\"token operator\">+</span> xhr<span class=\"token punctuation\">.</span>status<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\nxhr<span class=\"token punctuation\">.</span><span class=\"token function\">send</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// μ”μ²­ μ „μ†΅</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br>\n<p>λ³΄λ‹¤μ‹ν”Ό XHRμ€ κ°„λ‹¨ν• κµ¬λ¬Έλ„ μ΅°κΈ λ³µμ΅ν•΄λ³΄μ΄λ” κ²½ν–¥μ΄ μλ‹¤. κ·Έλ ‡κΈ° λ•λ¬Έμ— μ΄λ¬ν• λ©”μ†λ“λ¥Ό μ΅°κΈ λ” κ°„μ†ν™” μ‹ν‚¨ λΌμ΄λΈλ¬λ¦¬κ°€ λ“±μ¥ν•κ² λμ—λ‹¤. λ°”λ΅ <strong>jQuery</strong>μ΄λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber 0\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token comment\">// jQuery λΌμ΄λΈλ¬λ¦¬λ¥Ό ν™μ©ν• μ„λ²„μ™€μ ν†µμ‹ </span>\n$<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://52.78.213.9:3000/messages\"</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// response: μ„λ²„λ΅λ¶€ν„° μ¨ μ‘λ‹µ</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span></span></pre></div>\n<br>\n<p>κ·Έλ°λ° μ΄ jQueryλ„ μΈκ°„μ κ΄€μ μ—μ„ λ‚ν•΄ν•λ‹¤λ” μκ²¬μ΄ λ‚μ¤κΈ° μ‹μ‘ν–λ‹¤. λ”°λΌμ„ λ§μΉ javascriptλ¥Ό κ·Έλ€λ΅ μ“°λ” κ²ƒ κ°™μ€ APIκ°€ λ‚μ¤κ² λμ—λ‹¤. λ°”λ΅ <strong>κ°€λ…μ„±</strong>μ <strong>fetch()</strong> κµ¬λ¬Έμ΄λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber 0\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token comment\">// fetch APIλ¥Ό ν™μ©ν• μ„λ²„μ™€μ ν†µμ‹ </span>\n<span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">'http://52.78.213.9:3000/messages'</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span> <span class=\"token operator\">=></span> response<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">json</span> <span class=\"token operator\">=></span> <span class=\"token comment\">// μ„λ²„λ΅λ¶€ν„° json ν•νƒλ΅ μ „λ‹¬λ°›μ€ μ‘λ‹µ(μ¦‰, μ½λ°±))</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span></span></pre></div>\n<br>\n<h4>AJAX</h4>\n<p><strong>XHR</strong>μ„ ν†µν•΄ μ„λ²„μ™€ μμ λ΅­κ² ν†µμ‹ ν•  μ μμΌλ©΄μ„, <strong>DOM</strong>μ„ ν™μ©ν•μ—¬ Seamlessν•κ² νμ΄μ§€μ <strong>μΌλ¶€ λ¶€λ¶„λ§ λ λ”λ§</strong>μ΄ κ°€λ¥ν•λ„λ΅ Dynamic Web Page(App)λ¥Ό κµ¬ν„ν•κΈ° μ„ν• λΉ„λ™κΈ° κ°μ²΄μ΄λ‹¤. μ‚¬μ‹¤μƒ jQueryλ¥Ό μ„ν• λΌμ΄λΈλ¬λ¦¬ μ—­ν• μ„ μν–‰ν•λ‹¤.</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre style=\"counter-reset: linenumber 0\" class=\"language-jsx line-numbers\"><code class=\"language-jsx\"><span class=\"token comment\">// jQuery AJAX chaining</span>\n$<span class=\"token punctuation\">.</span><span class=\"token function\">ajax</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n\turl<span class=\"token operator\">:</span> <span class=\"token string\">'http://52.78.213.9:3000/messages'</span><span class=\"token punctuation\">,</span>\n\tmethod<span class=\"token operator\">:</span> <span class=\"token string\">'GET'</span><span class=\"token punctuation\">,</span>\n\tdataType<span class=\"token operator\">:</span> <span class=\"token string\">'json'</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">done</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">json</span> <span class=\"token operator\">=></span> <span class=\"token comment\">// μ„λ²„λ΅λ¶€ν„° json ν•νƒλ΅ μ „λ‹¬λ°›μ€ μ‘λ‹µ(μ¦‰, μ½λ°±))</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">fail</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">xhr<span class=\"token punctuation\">,</span> status<span class=\"token punctuation\">,</span> errorThrown</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token keyword\">throw</span> error<span class=\"token punctuation\">)</span>\n\t<span class=\"token punctuation\">.</span><span class=\"token function\">always</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">xhr<span class=\"token punctuation\">,</span> status</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'μ”μ²­μ™„λ£'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code><span aria-hidden=\"true\" class=\"line-numbers-rows\" style=\"white-space: normal; width: auto; left: 0;\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></pre></div>","title":"HTTP","category":"javascript","date":"23 Sep, 2020"}},"staticQueryHashes":["3649515864"]}